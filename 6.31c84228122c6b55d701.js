(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{kgeY:function(t,n,e){"use strict";e.r(n),e.d(n,"GameModule",function(){return M});var i=e("fXoL"),c=e("Sy1n"),s=e("1duf"),o=e("B+r4"),r=e("OvZZ"),a=e("OzZK"),l=e("RwU8"),b=e("C2AL");const h=["canvas"],u=function(){return[16,16]};let z=(()=>{class t{constructor(t){this.app=t,this.hammerOption={recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_ALL}]]},this.canvasOption={touchAction:"auto",inputClass:Hammer.MouseInput,recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_ALL}]]},this.testOption={touchAction:"auto",recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]},this.swipeType="None",this.swipeDirect=-1,this.velocity=0,this.startX=NaN,this.startY=NaN,this.endX=NaN,this.endY=NaN,this.newPaintArray()}ngOnInit(){this.collapseSubscriber=this.app.onCollapseChange().asObservable().subscribe(t=>{void 0!==t.getHammer()&&t.nextState&&t.setCancel(!0)})}ngAfterViewInit(){var t;this.ctx=this.canvas.nativeElement.getContext("2d"),null===(t=this.ctx)||void 0===t||t.scale(this.getDeviceRatio(),this.getDeviceRatio())}newPaintArray(){this.paintList=new Array(0)}onHammer(t){const n=t.elRef.nativeElement,e=t.input.pointers[0];this.swipeType=t.input.type,this.swipeDirect=t.input.eventType,this.velocity=t.input.velocity,this.startX=e.x-t.input.deltaX-n.getBoundingClientRect().x,this.startY=e.y-t.input.deltaY-n.getBoundingClientRect().y,this.endX=e.x-n.getBoundingClientRect().x,this.endY=e.y-n.getBoundingClientRect().y}getDeviceRatio(){return window.devicePixelRatio}clearCanvas(){this.ctx&&(this.newPaintArray(),this.ctx.clearRect(0,0,512,512))}onCanvas(t){const n=t.elRef.nativeElement,e=t.input.pointers[0],i=e.x-t.input.deltaX-n.getBoundingClientRect().x,c=e.y-t.input.deltaY-n.getBoundingClientRect().y;this.ctx&&(this.repaint(),this.ctx.fillRect(i,c,t.input.deltaX,t.input.deltaY),t.input.isFinal&&(this.paintList.push({style:this.ctx.fillStyle,startX:i,startY:c,width:t.input.deltaX,height:t.input.deltaY}),this.newColor()))}newColor(){this.ctx&&(this.ctx.fillStyle="rgb("+256*Math.random()+", "+256*Math.random()+", "+256*Math.random()+")")}repaint(){if(!this.ctx)return;this.ctx.clearRect(0,0,512,512);const t=this.ctx.fillStyle;for(const n of this.paintList)this.ctx.fillStyle=n.style,this.ctx.fillRect(n.startX,n.startY,n.width,n.height);this.ctx.fillStyle=t}ngOnDestroy(){void 0!==this.collapseSubscriber&&this.collapseSubscriber.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(i.Kb(c.a))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-hammer"]],viewQuery:function(t,n){if(1&t&&i.qc(h,!0),2&t){let t;i.jc(t=i.Yb())&&(n.canvas=t.first)}},decls:21,vars:20,consts:[["appWeiHammer","","action","swipe",1,"container",3,"option","hammer"],[3,"nzGutter"],[3,"nzSpan"],["nzTitle","\u6ed1\u52d5\u65b9\u5411",3,"nzValue"],["nzTitle","\u6ed1\u52d5\u529b\u9053",3,"nzValue"],["nzTitle","\u8d77\u9ede\u5ea7\u6a19",3,"nzValue"],["nzTitle","\u7d50\u675f\u5ea7\u6a19",3,"nzValue"],[2,"text-align","center"],["appWeiHammer","","action","pan",3,"option","width","height","hammer"],["canvas",""],["nz-button","",3,"click"]],template:function(t,n){1&t&&(i.Qb(0,"div",0),i.Xb("hammer",function(t){return n.onHammer(t)}),i.Qb(1,"nz-row",1),i.Qb(2,"nz-col",2),i.Lb(3,"nz-statistic",3),i.Pb(),i.Qb(4,"nz-col",2),i.Lb(5,"nz-statistic",4),i.Pb(),i.Qb(6,"nz-col",2),i.Lb(7,"nz-statistic",5),i.Pb(),i.Qb(8,"nz-col",2),i.Lb(9,"nz-statistic",6),i.Pb(),i.Qb(10,"nz-col",2),i.Qb(11,"div",7),i.vc(12),i.Pb(),i.Pb(),i.Qb(13,"nz-col",2),i.Qb(14,"div",7),i.Qb(15,"canvas",8,9),i.Xb("hammer",function(t){return n.onCanvas(t)}),i.Pb(),i.Pb(),i.Pb(),i.Qb(17,"nz-col",2),i.Qb(18,"div",7),i.Qb(19,"button",10),i.Xb("click",function(){return n.clearCanvas()}),i.vc(20,"\u6e05\u9664\u756b\u5e03"),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.fc("option",n.hammerOption),i.zb(1),i.fc("nzGutter",i.hc(19,u)),i.zb(1),i.fc("nzSpan",12),i.zb(1),i.fc("nzValue",n.swipeDirect),i.zb(1),i.fc("nzSpan",12),i.zb(1),i.fc("nzValue",n.velocity.toFixed(4)),i.zb(1),i.fc("nzSpan",12),i.zb(1),i.gc("nzValue","",n.startX.toFixed(2),", ",n.startY.toFixed(2),""),i.zb(1),i.fc("nzSpan",12),i.zb(1),i.gc("nzValue","",n.endX.toFixed(2),", ",n.endY.toFixed(2),""),i.zb(1),i.fc("nzSpan",24),i.zb(2),i.xc(" \u77e9\u5f62\u5340\u57df\u6578\u91cf\uff1a",n.paintList.length," "),i.zb(1),i.fc("nzSpan",24),i.zb(2),i.fc("option",n.testOption)("width",350*n.getDeviceRatio())("height",350*n.getDeviceRatio()),i.zb(2),i.fc("nzSpan",24))},directives:[s.a,o.c,o.a,r.a,a.a,l.a,b.a],styles:[".container[_ngcontent-%COMP%]{height:640px}canvas[_ngcontent-%COMP%]{border-style:solid;width:350px;height:350px}"]}),t})();var p=e("JA5x"),d=e("ofXK"),m=e("5vDB"),g=e("FwiY");function f(t,n){1&t&&(i.Lb(0,"i",18),i.vc(1," \u5c0d\u624b\u9078\u64c7 "),i.Lb(2,"i",18))}function v(t,n){1&t&&(i.Ob(0),i.Qb(1,"h1"),i.vc(2,"\u526a\u5200\uff0c\u77f3\u982d\uff0c\u5e03\uff01"),i.Pb(),i.Nb())}function w(t,n){1&t&&(i.Ob(0),i.Qb(1,"h1",20),i.vc(2,"\u4f60\u8d0f\u4e86"),i.Pb(),i.Nb())}function y(t,n){1&t&&(i.Ob(0),i.Qb(1,"h1",21),i.vc(2,"\u5e73\u624b"),i.Pb(),i.Nb())}function P(t,n){1&t&&(i.Ob(0),i.Qb(1,"h1",22),i.vc(2,"\u4f60\u8f38\u4e86"),i.Pb(),i.Nb())}function x(t,n){if(1&t&&(i.tc(0,w,3,0,"ng-container",19),i.tc(1,y,3,0,"ng-container",19),i.tc(2,P,3,0,"ng-container",19)),2&t){const t=i.ac();i.fc("ngIf",1==t.checkUserWin()),i.zb(1),i.fc("ngIf",0==t.checkUserWin()),i.zb(1),i.fc("ngIf",-1==t.checkUserWin())}}function C(t,n){1&t&&(i.Lb(0,"i",23),i.vc(1," \u60a8\u7684\u9078\u64c7 "),i.Lb(2,"i",23))}const Q=function(t){return{visibility:t}};let L=(()=>{class t{constructor(){this.userChoose=-1,this.aiChoose=-1,this.win=0,this.loss=0,this.tie=0}ngOnInit(){}gameReset(){this.userChoose=-1,this.aiChoose=-1}onClick(t){if(t<0||3<t)return;if(-1!==this.userChoose)return void this.gameReset();this.userChoose=t,this.aiChoose=this.random();const n=this.checkUserWin();1===n?this.win++:0===n?this.tie++:-1===n&&this.loss++}checkUserWin(){return this.userChoose===this.aiChoose?0:this.userChoose===this.aiChoose+1||this.userChoose===this.aiChoose-2?1:-1}showUserItem(t){return-1===this.userChoose||this.userChoose===t}showAiItem(t){return-1!==this.aiChoose&&this.aiChoose===t}random(){return Math.floor(3*Math.random())}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-finger-guessing"]],decls:38,vars:25,consts:[["nz-row","","nzJustify","center","nzAlign","middle","nzGutter","1",1,"center"],["nz-col","","nzSpan","6","nzSize","small"],["nzTitle","\u52dd\u5229"],["nzTitle","\u5e73\u624b"],["nzTitle","\u843d\u6557"],["nz-row","","nzJustify","center","nzAlign","middle","nzGutter","8"],["nz-col","","nzSpan","8",1,"choose-item",3,"ngStyle"],["src","assets/games/finger-guessing/scissors.svg"],["src","assets/games/finger-guessing/stone.svg"],["src","assets/games/finger-guessing/paper.svg"],["nzDashed","",3,"nzText"],["textUser",""],["nz-col","","nzSpan","24",1,"center"],[4,"ngIf","ngIfElse"],["resultTemplate",""],["textAi",""],["nz-row","","nzJustify","center","nzAlign","middle","nzGutter","8",1,"choose-container"],["nz-col","","nzSpan","8",1,"choose-item",3,"ngStyle","click"],["nz-icon","","nzType","arrow-up"],[4,"ngIf"],[2,"color","DARKGREEN"],[2,"color","DARKORANGE"],[2,"color","DARKRED"],["nz-icon","","nzType","arrow-down"]],template:function(t,n){if(1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"nz-card",2),i.Qb(3,"h1"),i.vc(4),i.Pb(),i.Pb(),i.Pb(),i.Qb(5,"div",1),i.Qb(6,"nz-card",3),i.Qb(7,"h1"),i.vc(8),i.Pb(),i.Pb(),i.Pb(),i.Qb(9,"div",1),i.Qb(10,"nz-card",4),i.Qb(11,"h1"),i.vc(12),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(13,"div",5),i.Qb(14,"div",6),i.Lb(15,"img",7),i.Pb(),i.Qb(16,"div",6),i.Lb(17,"img",8),i.Pb(),i.Qb(18,"div",6),i.Lb(19,"img",9),i.Pb(),i.Pb(),i.Qb(20,"nz-divider",10),i.tc(21,f,3,0,"ng-template",null,11,i.uc),i.Pb(),i.Qb(23,"div",5),i.Qb(24,"div",12),i.tc(25,v,3,0,"ng-container",13),i.tc(26,x,3,3,"ng-template",null,14,i.uc),i.Pb(),i.Pb(),i.Qb(28,"nz-divider",10),i.tc(29,C,3,0,"ng-template",null,15,i.uc),i.Pb(),i.Qb(31,"div",16),i.Qb(32,"div",17),i.Xb("click",function(){return n.onClick(0)}),i.Lb(33,"img",7),i.Pb(),i.Qb(34,"div",17),i.Xb("click",function(){return n.onClick(1)}),i.Lb(35,"img",8),i.Pb(),i.Qb(36,"div",17),i.Xb("click",function(){return n.onClick(2)}),i.Lb(37,"img",9),i.Pb(),i.Pb()),2&t){const t=i.kc(22),e=i.kc(27),c=i.kc(30);i.zb(4),i.wc(n.win),i.zb(4),i.wc(n.tie),i.zb(4),i.wc(n.loss),i.zb(2),i.fc("ngStyle",i.ic(13,Q,n.showAiItem(0)?"visible":"hidden")),i.zb(2),i.fc("ngStyle",i.ic(15,Q,n.showAiItem(1)?"visible":"hidden")),i.zb(2),i.fc("ngStyle",i.ic(17,Q,n.showAiItem(2)?"visible":"hidden")),i.zb(2),i.fc("nzText",t),i.zb(5),i.fc("ngIf",-1==n.userChoose)("ngIfElse",e),i.zb(3),i.fc("nzText",c),i.zb(4),i.fc("ngStyle",i.ic(19,Q,n.showUserItem(0)?"visible":"hidden")),i.zb(2),i.fc("ngStyle",i.ic(21,Q,n.showUserItem(1)?"visible":"hidden")),i.zb(2),i.fc("ngStyle",i.ic(23,Q,n.showUserItem(2)?"visible":"hidden"))}},directives:[o.c,o.a,p.a,d.l,m.a,d.k,g.b,b.a],styles:[".choose-item[_ngcontent-%COMP%]{max-width:128px}.center[_ngcontent-%COMP%]{text-align:center}"]}),t})();var S=e("tyNb");function I(t,n){if(1&t&&(i.Qb(0,"nz-card",6),i.Lb(1,"nz-card-meta",7),i.Pb()),2&t){const t=i.ac().$implicit,n=i.kc(3),e=i.kc(5);i.fc("nzCover",n)("nzExtra",e)("routerLink",t.router),i.zb(1),i.fc("nzTitle",t.title)("nzDescription",t.description)}}function O(t,n){if(1&t&&i.Lb(0,"img",8),2&t){const t=i.ac().$implicit;i.fc("src",t.img,i.nc)}}function R(t,n){if(1&t&&(i.Qb(0,"h4"),i.vc(1),i.Pb()),2&t){const t=i.ac().$implicit;i.zb(1),i.wc(t.extra)}}function k(t,n){if(1&t&&(i.Qb(0,"div",2),i.tc(1,I,2,5,"nz-card",3),i.tc(2,O,1,1,"ng-template",null,4,i.uc),i.tc(4,R,2,1,"ng-template",null,5,i.uc),i.Pb()),2&t){const t=n.$implicit;i.fc("nzXs",12)("nzSm",24)("nzLg",8)("nzMd",12),i.zb(1),i.fc("ngIf",t)}}const A=function(){return[16,24]};let T=(()=>{class t{constructor(){this.cards=[{img:"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png",title:"\u731c\u62f3\u5c0f\u904a\u6232",description:"\u4f86\u548c\u96fb\u8166\u731c\u62f3\u5427\uff01",extra:"\u958b\u59cb\u904a\u6232",router:"finger-guessing"},{img:"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png",title:"\u6ed1\u52d5\u5c0f\u904a\u6232",description:"\u6e2c\u8a66\u624b\u6a5f\u4e0a\u7684\u624b\u52e2",extra:"\u958b\u59cb\u904a\u6232",router:"hammer"}]}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-game"]],decls:2,vars:3,consts:[["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXs","nzSm","nzLg","nzMd",4,"ngFor","ngForOf"],["nz-col","",3,"nzXs","nzSm","nzLg","nzMd"],["nzHoverable","",3,"nzCover","nzExtra","routerLink",4,"ngIf"],["coverTemplate",""],["coverTemplateExtra",""],["nzHoverable","",3,"nzCover","nzExtra","routerLink"],[3,"nzTitle","nzDescription"],["alt","example",3,"src"]],template:function(t,n){1&t&&(i.Qb(0,"div",0),i.tc(1,k,6,5,"div",1),i.Pb()),2&t&&(i.fc("nzGutter",i.hc(2,A)),i.zb(1),i.fc("ngForOf",n.cards))},directives:[o.c,d.j,o.a,d.k,p.a,S.e,p.b],styles:[""]}),t})();const X=[{path:"",component:T},{path:"finger-guessing",component:L,data:{customBreadcrumb:"\u731c\u62f3\u5c0f\u904a\u6232"}},{path:"hammer",component:z,data:{customBreadcrumb:"\u624b\u52e2\u6e2c\u8a66"}},{path:"**",component:T}];let D=(()=>{class t{}return t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({factory:function(n){return new(n||t)},imports:[[S.g.forChild(X)],S.g]}),t})();var E=e("5tAM"),N=e("7k2P"),H=e("1Ui3");let M=(()=>{class t{}return t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({factory:function(n){return new(n||t)},imports:[[d.b,D,N.a,E.a,H.a]]}),t})()}}]);