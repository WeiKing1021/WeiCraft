(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{kgeY:function(t,e,i){"use strict";i.r(e),i.d(e,"GameModule",function(){return N});var n=i("fXoL"),c=i("Sy1n"),s=i("1duf"),o=i("B+r4"),r=i("OvZZ");const a=["canvas"];let h=(()=>{class t{constructor(t){this.app=t,this.hammerOption={recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_ALL}]]},this.canvasOption={touchAction:"auto",inputClass:Hammer.MouseInput,recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_ALL}]]},this.swipeType="None",this.swipeDirect=-1,this.velocity=0,this.startX=NaN,this.startY=NaN,this.endX=NaN,this.endY=NaN,this.data=new Array(10)}ngOnInit(){this.collapseSubscriber=this.app.onCollapseChange().asObservable().subscribe(t=>{void 0!==t.getHammer()&&t.nextState&&t.setCancel(!0)})}ngAfterViewInit(){var t;this.ctx=this.canvas.nativeElement.getContext("2d"),null===(t=this.ctx)||void 0===t||t.scale(this.getDeviceRatio(),this.getDeviceRatio())}onHammer(t){const e=t.elRef.nativeElement,i=t.input.pointers[0];this.swipeType=t.input.type,this.swipeDirect=t.input.eventType,this.velocity=t.input.velocity,this.startX=i.x-t.input.deltaX-e.getBoundingClientRect().x,this.startY=i.y-t.input.deltaY-e.getBoundingClientRect().y,this.endX=i.x-e.getBoundingClientRect().x,this.endY=i.y-e.getBoundingClientRect().y}getDeviceRatio(){return window.devicePixelRatio}onCanvasSwipe(t){const e=t.elRef.nativeElement;if(this.getDeviceRatio(),e.getBoundingClientRect(),e.getBoundingClientRect(),e.getBoundingClientRect(),e.getBoundingClientRect(),this.ctx){this.roundedRect(12,12,150,150,15),this.roundedRect(19,19,150,150,9),this.roundedRect(53,53,49,33,10),this.roundedRect(53,119,49,16,6),this.roundedRect(135,53,49,33,10),this.roundedRect(135,119,25,49,10),this.ctx.beginPath(),this.ctx.arc(37,37,13,Math.PI/7,-Math.PI/7,!1),this.ctx.lineTo(31,37),this.ctx.fill();for(let t=0;t<8;t++)this.ctx.fillRect(51+16*t,35,4,4);for(let t=0;t<6;t++)this.ctx.fillRect(115,51+16*t,4,4);for(let t=0;t<8;t++)this.ctx.fillRect(51+16*t,99,4,4);this.ctx.beginPath(),this.ctx.moveTo(83,116),this.ctx.lineTo(83,102),this.ctx.bezierCurveTo(83,94,89,88,97,88),this.ctx.bezierCurveTo(105,88,111,94,111,102),this.ctx.lineTo(111,116),this.ctx.lineTo(106.333,111.333),this.ctx.lineTo(101.666,116),this.ctx.lineTo(97,111.333),this.ctx.lineTo(92.333,116),this.ctx.lineTo(87.666,111.333),this.ctx.lineTo(83,116),this.ctx.fill(),this.ctx.fillStyle="white",this.ctx.beginPath(),this.ctx.moveTo(91,96),this.ctx.bezierCurveTo(88,96,87,99,87,101),this.ctx.bezierCurveTo(87,103,88,106,91,106),this.ctx.bezierCurveTo(94,106,95,103,95,101),this.ctx.bezierCurveTo(95,99,94,96,91,96),this.ctx.moveTo(103,96),this.ctx.bezierCurveTo(100,96,99,99,99,101),this.ctx.bezierCurveTo(99,103,100,106,103,106),this.ctx.bezierCurveTo(106,106,107,103,107,101),this.ctx.bezierCurveTo(107,99,106,96,103,96),this.ctx.fill(),this.ctx.fillStyle="black",this.ctx.beginPath(),this.ctx.arc(101,102,2,0,2*Math.PI,!0),this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(89,102,2,0,2*Math.PI,!0),this.ctx.fill()}}roundedRect(t,e,i,n,c){this.ctx&&(this.ctx.beginPath(),this.ctx.moveTo(t,e+c),this.ctx.lineTo(t,e+n-c),this.ctx.quadraticCurveTo(t,e+n,t+c,e+n),this.ctx.lineTo(t+i-c,e+n),this.ctx.quadraticCurveTo(t+i,e+n,t+i,e+n-c),this.ctx.lineTo(t+i,e+c),this.ctx.quadraticCurveTo(t+i,e,t+i-c,e),this.ctx.lineTo(t+c,e),this.ctx.quadraticCurveTo(t,e,t,e+c),this.ctx.stroke())}ngOnDestroy(){void 0!==this.collapseSubscriber&&this.collapseSubscriber.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Kb(c.a))},t.\u0275cmp=n.Eb({type:t,selectors:[["app-hammer"]],viewQuery:function(t,e){if(1&t&&n.qc(a,!0),2&t){let t;n.jc(t=n.Yb())&&(e.canvas=t.first)}},decls:16,vars:18,consts:[["appWeiHammer","","action","swipe",1,"container",3,"option","hammer"],[3,"nzGutter"],[3,"nzSpan"],["nzTitle","\u6ed1\u52d5\u65b9\u5411",3,"nzValue"],["nzTitle","\u6ed1\u52d5\u529b\u9053",3,"nzValue"],["nzTitle","\u8d77\u9ede\u5ea7\u6a19",3,"nzValue"],["nzTitle","\u7d50\u675f\u5ea7\u6a19",3,"nzValue"],[2,"text-align","center"],["appWeiHammer","","action","swipe",3,"option","width","height","hammer"],["canvas",""]],template:function(t,e){1&t&&(n.Qb(0,"div",0),n.Xb("hammer",function(t){return e.onHammer(t)}),n.Qb(1,"nz-row",1),n.Qb(2,"nz-col",2),n.Lb(3,"nz-statistic",3),n.Pb(),n.Qb(4,"nz-col",2),n.Lb(5,"nz-statistic",4),n.Pb(),n.Qb(6,"nz-col",2),n.Lb(7,"nz-statistic",5),n.Pb(),n.Qb(8,"nz-col",2),n.Lb(9,"nz-statistic",6),n.Pb(),n.Qb(10,"nz-col",2),n.vc(11),n.Pb(),n.Qb(12,"nz-col",2),n.Qb(13,"div",7),n.Qb(14,"canvas",8,9),n.Xb("hammer",function(t){return e.onCanvasSwipe(t)}),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb()),2&t&&(n.fc("option",e.hammerOption),n.zb(1),n.fc("nzGutter",16),n.zb(1),n.fc("nzSpan",12),n.zb(1),n.fc("nzValue",e.swipeDirect),n.zb(1),n.fc("nzSpan",12),n.zb(1),n.fc("nzValue",e.velocity.toFixed(4)),n.zb(1),n.fc("nzSpan",12),n.zb(1),n.gc("nzValue","",e.startX.toFixed(2),", ",e.startY.toFixed(2),""),n.zb(1),n.fc("nzSpan",12),n.zb(1),n.gc("nzValue","",e.endX.toFixed(2),", ",e.endY.toFixed(2),""),n.zb(1),n.fc("nzSpan",24),n.zb(1),n.xc(" ",e.app.isSideBarVisible()," "),n.zb(1),n.fc("nzSpan",24),n.zb(2),n.fc("option",e.hammerOption)("width",350*e.getDeviceRatio())("height",350*e.getDeviceRatio()))},directives:[s.a,o.c,o.a,r.a],styles:[".container[_ngcontent-%COMP%]{height:640px}canvas[_ngcontent-%COMP%]{border-style:solid;width:350px;height:350px}"]}),t})();var l=i("JA5x"),b=i("ofXK"),u=i("5vDB"),z=i("FwiY"),d=i("C2AL");function g(t,e){1&t&&(n.Lb(0,"i",18),n.vc(1," \u5c0d\u624b\u9078\u64c7 "),n.Lb(2,"i",18))}function p(t,e){1&t&&(n.Ob(0),n.Qb(1,"h1"),n.vc(2,"\u526a\u5200\uff0c\u77f3\u982d\uff0c\u5e03\uff01"),n.Pb(),n.Nb())}function m(t,e){1&t&&(n.Ob(0),n.Qb(1,"h1",20),n.vc(2,"\u4f60\u8d0f\u4e86"),n.Pb(),n.Nb())}function f(t,e){1&t&&(n.Ob(0),n.Qb(1,"h1",21),n.vc(2,"\u5e73\u624b"),n.Pb(),n.Nb())}function v(t,e){1&t&&(n.Ob(0),n.Qb(1,"h1",22),n.vc(2,"\u4f60\u8f38\u4e86"),n.Pb(),n.Nb())}function x(t,e){if(1&t&&(n.tc(0,m,3,0,"ng-container",19),n.tc(1,f,3,0,"ng-container",19),n.tc(2,v,3,0,"ng-container",19)),2&t){const t=n.ac();n.fc("ngIf",1==t.checkUserWin()),n.zb(1),n.fc("ngIf",0==t.checkUserWin()),n.zb(1),n.fc("ngIf",-1==t.checkUserWin())}}function C(t,e){1&t&&(n.Lb(0,"i",23),n.vc(1," \u60a8\u7684\u9078\u64c7 "),n.Lb(2,"i",23))}const P=function(t){return{visibility:t}};let w=(()=>{class t{constructor(){this.userChoose=-1,this.aiChoose=-1,this.win=0,this.loss=0,this.tie=0}ngOnInit(){}gameReset(){this.userChoose=-1,this.aiChoose=-1}onClick(t){if(t<0||3<t)return;if(-1!==this.userChoose)return void this.gameReset();this.userChoose=t,this.aiChoose=this.random();const e=this.checkUserWin();1===e?this.win++:0===e?this.tie++:-1===e&&this.loss++}checkUserWin(){return this.userChoose===this.aiChoose?0:this.userChoose===this.aiChoose+1||this.userChoose===this.aiChoose-2?1:-1}showUserItem(t){return-1===this.userChoose||this.userChoose===t}showAiItem(t){return-1!==this.aiChoose&&this.aiChoose===t}random(){return Math.floor(3*Math.random())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Eb({type:t,selectors:[["app-finger-guessing"]],decls:38,vars:25,consts:[["nz-row","","nzJustify","center","nzAlign","middle","nzGutter","1",1,"center"],["nz-col","","nzSpan","6","nzSize","small"],["nzTitle","\u52dd\u5229"],["nzTitle","\u5e73\u624b"],["nzTitle","\u843d\u6557"],["nz-row","","nzJustify","center","nzAlign","middle","nzGutter","8"],["nz-col","","nzSpan","8",1,"choose-item",3,"ngStyle"],["src","assets/games/finger-guessing/scissors.svg"],["src","assets/games/finger-guessing/stone.svg"],["src","assets/games/finger-guessing/paper.svg"],["nzDashed","",3,"nzText"],["textUser",""],["nz-col","","nzSpan","24",1,"center"],[4,"ngIf","ngIfElse"],["resultTemplate",""],["textAi",""],["nz-row","","nzJustify","center","nzAlign","middle","nzGutter","8",1,"choose-container"],["nz-col","","nzSpan","8",1,"choose-item",3,"ngStyle","click"],["nz-icon","","nzType","arrow-up"],[4,"ngIf"],[2,"color","DARKGREEN"],[2,"color","DARKORANGE"],[2,"color","DARKRED"],["nz-icon","","nzType","arrow-down"]],template:function(t,e){if(1&t&&(n.Qb(0,"div",0),n.Qb(1,"div",1),n.Qb(2,"nz-card",2),n.Qb(3,"h1"),n.vc(4),n.Pb(),n.Pb(),n.Pb(),n.Qb(5,"div",1),n.Qb(6,"nz-card",3),n.Qb(7,"h1"),n.vc(8),n.Pb(),n.Pb(),n.Pb(),n.Qb(9,"div",1),n.Qb(10,"nz-card",4),n.Qb(11,"h1"),n.vc(12),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(13,"div",5),n.Qb(14,"div",6),n.Lb(15,"img",7),n.Pb(),n.Qb(16,"div",6),n.Lb(17,"img",8),n.Pb(),n.Qb(18,"div",6),n.Lb(19,"img",9),n.Pb(),n.Pb(),n.Qb(20,"nz-divider",10),n.tc(21,g,3,0,"ng-template",null,11,n.uc),n.Pb(),n.Qb(23,"div",5),n.Qb(24,"div",12),n.tc(25,p,3,0,"ng-container",13),n.tc(26,x,3,3,"ng-template",null,14,n.uc),n.Pb(),n.Pb(),n.Qb(28,"nz-divider",10),n.tc(29,C,3,0,"ng-template",null,15,n.uc),n.Pb(),n.Qb(31,"div",16),n.Qb(32,"div",17),n.Xb("click",function(){return e.onClick(0)}),n.Lb(33,"img",7),n.Pb(),n.Qb(34,"div",17),n.Xb("click",function(){return e.onClick(1)}),n.Lb(35,"img",8),n.Pb(),n.Qb(36,"div",17),n.Xb("click",function(){return e.onClick(2)}),n.Lb(37,"img",9),n.Pb(),n.Pb()),2&t){const t=n.kc(22),i=n.kc(27),c=n.kc(30);n.zb(4),n.wc(e.win),n.zb(4),n.wc(e.tie),n.zb(4),n.wc(e.loss),n.zb(2),n.fc("ngStyle",n.ic(13,P,e.showAiItem(0)?"visible":"hidden")),n.zb(2),n.fc("ngStyle",n.ic(15,P,e.showAiItem(1)?"visible":"hidden")),n.zb(2),n.fc("ngStyle",n.ic(17,P,e.showAiItem(2)?"visible":"hidden")),n.zb(2),n.fc("nzText",t),n.zb(5),n.fc("ngIf",-1==e.userChoose)("ngIfElse",i),n.zb(3),n.fc("nzText",c),n.zb(4),n.fc("ngStyle",n.ic(19,P,e.showUserItem(0)?"visible":"hidden")),n.zb(2),n.fc("ngStyle",n.ic(21,P,e.showUserItem(1)?"visible":"hidden")),n.zb(2),n.fc("ngStyle",n.ic(23,P,e.showUserItem(2)?"visible":"hidden"))}},directives:[o.c,o.a,l.a,b.l,u.a,b.k,z.b,d.a],styles:[".choose-item[_ngcontent-%COMP%]{max-width:128px}.center[_ngcontent-%COMP%]{text-align:center}"]}),t})();var T=i("tyNb");function y(t,e){if(1&t&&(n.Qb(0,"nz-card",6),n.Lb(1,"nz-card-meta",7),n.Pb()),2&t){const t=n.ac().$implicit,e=n.kc(3),i=n.kc(5);n.fc("nzCover",e)("nzExtra",i)("routerLink",t.router),n.zb(1),n.fc("nzTitle",t.title)("nzDescription",t.description)}}function Q(t,e){if(1&t&&n.Lb(0,"img",8),2&t){const t=n.ac().$implicit;n.fc("src",t.img,n.nc)}}function R(t,e){if(1&t&&(n.Qb(0,"h4"),n.vc(1),n.Pb()),2&t){const t=n.ac().$implicit;n.zb(1),n.wc(t.extra)}}function S(t,e){if(1&t&&(n.Qb(0,"div",2),n.tc(1,y,2,5,"nz-card",3),n.tc(2,Q,1,1,"ng-template",null,4,n.uc),n.tc(4,R,2,1,"ng-template",null,5,n.uc),n.Pb()),2&t){const t=e.$implicit;n.fc("nzXs",12)("nzSm",24)("nzLg",8)("nzMd",12),n.zb(1),n.fc("ngIf",t)}}const I=function(){return[16,24]};let L=(()=>{class t{constructor(){this.cards=[{img:"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png",title:"\u731c\u62f3\u5c0f\u904a\u6232",description:"\u4f86\u548c\u96fb\u8166\u731c\u62f3\u5427\uff01",extra:"\u958b\u59cb\u904a\u6232",router:"finger-guessing"},{img:"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png",title:"\u6ed1\u52d5\u5c0f\u904a\u6232",description:"\u6e2c\u8a66\u624b\u6a5f\u4e0a\u7684\u624b\u52e2",extra:"\u958b\u59cb\u904a\u6232",router:"hammer"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Eb({type:t,selectors:[["app-game"]],decls:2,vars:3,consts:[["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXs","nzSm","nzLg","nzMd",4,"ngFor","ngForOf"],["nz-col","",3,"nzXs","nzSm","nzLg","nzMd"],["nzHoverable","",3,"nzCover","nzExtra","routerLink",4,"ngIf"],["coverTemplate",""],["coverTemplateExtra",""],["nzHoverable","",3,"nzCover","nzExtra","routerLink"],[3,"nzTitle","nzDescription"],["alt","example",3,"src"]],template:function(t,e){1&t&&(n.Qb(0,"div",0),n.tc(1,S,6,5,"div",1),n.Pb()),2&t&&(n.fc("nzGutter",n.hc(2,I)),n.zb(1),n.fc("ngForOf",e.cards))},directives:[o.c,b.j,o.a,b.k,l.a,T.e,l.b],styles:[""]}),t})();const k=[{path:"",component:L},{path:"finger-guessing",component:w,data:{customBreadcrumb:"\u731c\u62f3\u5c0f\u904a\u6232"}},{path:"hammer",component:h,data:{customBreadcrumb:"\u624b\u52e2\u6e2c\u8a66"}},{path:"**",component:L}];let O=(()=>{class t{}return t.\u0275mod=n.Ib({type:t}),t.\u0275inj=n.Hb({factory:function(e){return new(e||t)},imports:[[T.g.forChild(k)],T.g]}),t})();var A=i("5tAM"),D=i("7k2P"),E=i("1Ui3");let N=(()=>{class t{}return t.\u0275mod=n.Ib({type:t}),t.\u0275inj=n.Hb({factory:function(e){return new(e||t)},imports:[[b.b,O,D.a,A.a,E.a]]}),t})()}}]);